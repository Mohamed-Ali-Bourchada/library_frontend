
<!-- <div class="categories-section" id="catalog">
  <h2 class="categories-title">Our Book Collection</h2>
  <div class="categories-grid">
    <div class="category-item" *ngFor="let book of books">
      <div class="category-card">
        <img src="images/fiction.jpg" alt="Fiction" class="category-image">
        <div class="category-info">
          <h3>Titre: {{ book.title }}</h3>
          <p>Auteur: {{book.author }}</p>
          <h4><strong>Category:</strong> {{ book.category || 'Uncategorized' }}</h4>
          <span class="badge bg-success">{{ book.stateBook || 'Available' }}</span>
        </div>
      </div>
    </div>
  </div>
</div> -->
<!-- pour la cathegorie  -->
<div class="cathegorie_Filter_Container">
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === 'all'"
    (click)="filterBooks('all')">
    <h4>all</h4>
  </div>
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === categories[0]"
    (click)="filterBooks(categories[0])">
    <h4>{{categories[0]}} </h4>
  </div>
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === categories[1]"
    (click)="filterBooks(categories[1])">
    <h4>{{categories[1]}}</h4>
  </div>
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === categories[2]"
    (click)="filterBooks(categories[2])">
    <h4>{{categories[2]}}</h4>
  </div>
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === categories[3]"
    (click)="filterBooks(categories[3])">
    <h4>{{categories[3]}}</h4>
  </div>
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === categories[4]"
    (click)="filterBooks(categories[4])">
    <h4>{{categories[4]}}</h4>
  </div>
  <div
    class="cathegorie_Filter_items"
    [class.active]="selectedCategory === categories[5]"
    (click)="filterBooks(categories[5])">
    <h4>{{categories[5]}}</h4>
  </div>
</div>

<!-- carousel  -->
<swiper-container loop="true" navigation="true" slides-per-view="2">
  <swiper-slide *ngFor="let book of books">
    <div class="category-item"  (click)="showBookDetails(book)" data-bs-toggle="modal" data-bs-target="#bookModal">
      <div class="category-card">
        <img
        [src]="book.cover ? 'data:image/jpeg;base64,' + book.cover : 'images/bookCover.jpg'"
        alt="{{ book.title }}"
        class="category-image">
              <div class="category-info">
          <h3>Titre: {{ book.title }}</h3>
          <p>Auteur: {{book.author }}</p>
          <!-- badge bg-success -->
          <h4><strong>Category:</strong> {{ book.category || 'Uncategorized' }}</h4>
          <span [class]="book.stateBook=='disponible'?'badge bg-success':'badge bg-danger'">{{ book.stateBook || 'Available' }}</span>
        </div>
      </div>
    </div>
  </swiper-slide>

</swiper-container>
<!-- show all book -->
 <div class="btnShowAll">
  <div class="btn btn-outline-info ">show all</div>
 </div>
<!-- model  -->
 
<!-- Modal pour afficher les informations du livre -->
<div class="modal fade" id="bookModal" tabindex="-1" aria-labelledby="bookModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="bookModalLabel">{{ BookDetails?.title }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="d-flex">
          <!-- Image on the left -->
          <div class="image-container me-4">
            <img [src]="BookDetails?.cover ? 'data:image/jpeg;base64,' + BookDetails.cover : 'assets/images/default-cover.jpg'"
                 alt="{{ BookDetails?.title }}"
                 class="img-fluid rounded-3 shadow-lg">
          </div>

          <!-- Book Details on the right -->
          <div class="book-details">
            <div class="mb-3">
              <label for="bookTitle" class="form-label">Titre</label>
              <h4 class="book-info">{{ BookDetails?.title }}</h4>
            </div>

            <div class="mb-3">
              <label for="bookAuthor" class="form-label">Auteur</label>
              <p class="book-info">{{ BookDetails?.author }}</p>
            </div>

            <div class="mb-3">
              <label for="bookSujet" class="form-label">Sujet</label>
              <p class="book-info">{{ BookDetails?.sujet }}</p>
            </div>
            <div class="mb-3">
              <span [class]="BookDetails.stateBook=='disponible'?'badge bg-success':'badge bg-danger'">{{ BookDetails.stateBook || 'Available' }}</span>

            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
        <button type="button" class="btn btn-primary" (click)="onNavigateToEmprent(BookDetails)" data-bs-dismiss="modal">Emprunter</button>
      </div>
    </div>
  </div>
</div>
